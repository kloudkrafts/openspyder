Connector:
    schema: opendata-fr
    update_field: modifiedSince

APIs:

    DiDo:
        name: dido
        base_url: https://data.statistiques.developpement-durable.gouv.fr
        default_headers:
            accept: application/json

    INSEE:
        name: insee
        base_url: https://api.insee.fr
        rate_limit: 2.2
        default_headers:
            accept: application/json

Models:

    DiDoDatasetCatalogue:
        API: DiDo
        path: /dido/api/v1/datasets
        datapath: data
        accepted_inputs:
            - page
            - pageSize
            - text
            - topics
        index_keys:
            - id

    DiDoDatafiles:
        API: DiDo
        path: /dido/api/v1/datafiles/{$rid}/json
        datapath: "[]"
        accepted_inputs:
            - rid
            - millesime
        index_keys:
            - PERIODE

    MelodiDatasetCatalogue:
        API: INSEE
        path: /melodi/catalog/ids
        datapath: "[]"
        index_keys:
            - identifier

    MelodiDatasets:
        API: INSEE
        path: /melodi/catalog/{$identifier}
        datapath: "*"
        iterable: False
        accepted_inputs:
            - identifier
        index_keys:
            - identifier